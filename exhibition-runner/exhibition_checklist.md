# ✅ 2日間展示用チェックリスト - 完全無料・外部漏洩なし

## 🎯 展示前準備（1日前）

### 📱 アカウント準備
- [ ] **Google アカウント**: Colab用
- [ ] **ngrok アカウント**: 無料登録・トークン取得
- [ ] **Vercel アカウント**: GitHub連携済み
- [ ] **GitHub**: フロントエンドコード準備

### 💻 技術準備
- [ ] **setup_colab.ipynb**: 動作確認済み
- [ ] **フロントエンド**: Vercelデプロイ済み
- [ ] **環境変数**: 設定方法確認
- [ ] **バックアップURL**: 予備ngrokアカウント準備

### 📋 運用計画
- [ ] **スケジュール**: URL更新タイミング決定
- [ ] **担当者**: URL更新担当者決定
- [ ] **緊急連絡**: 問題発生時の対応者決定
- [ ] **マニュアル**: 操作手順書印刷

## 🚀 展示開始（Day 1 朝）

### 1. Google Colab起動（9:00）
```bash
✅ 手順:
1. colab.research.google.com にアクセス
2. GPUランタイム設定
3. setup_colab.ipynb アップロード
4. 全セル実行
5. ngrok URL確認・コピー

⏰ 所要時間: 5-10分
🎯 成功条件: "Public URL: https://xxx.ngrok-free.app" 表示
```

### 2. Vercel環境変数更新（9:10）
```bash
✅ 手順:
1. Vercel Dashboard → Project → Settings → Environment Variables
2. NEXT_PUBLIC_BACKEND_URL を新しいURLに更新
3. Redeploy トリガー
4. デプロイ完了確認

⏰ 所要時間: 3-5分  
🎯 成功条件: フロントエンドで深度推定動作確認
```

### 3. 動作確認（9:15）
```bash
✅ 確認項目:
- [ ] フロントエンド表示: https://your-app.vercel.app
- [ ] 画像アップロード: 正常動作
- [ ] 深度推定実行: 2-5秒で完了
- [ ] 結果表示: 深度マップ表示
- [ ] コンソール: "✅ Real AI depth estimation successful!"

🎯 問題時: mock APIで動作（オレンジ色表示）
```

## ⏰ 運用中の管理

### ngrok URL更新スケジュール
```
Day 1:
├── 09:00 - 17:00: URL #1 (8時間)
├── 17:00 - 01:00: URL #2 (8時間)  
└── 01:00 - 09:00: URL #3 (8時間)

Day 2:
├── 09:00 - 17:00: URL #4 (8時間)
├── 17:00 - 展示終了: URL #5
```

### Google Colab セッション管理
```
セッション1: Day 1 09:00 - 21:00 (12時間)
セッション2: Day 1 21:00 - Day 2 09:00 (12時間)  
セッション3: Day 2 09:00 - 21:00 (12時間)
セッション4: Day 2 21:00 - 展示終了 (予備)
```

## 🔄 URL更新手順（8時間毎）

### Step 1: 新しいngrok URL生成（5分）
```python
# Google Colab で実行
public_url = ngrok.connect(7860)
print(f"New URL: {public_url}")
```

### Step 2: Vercel更新（3分）
```bash
# ローカルまたはVercel Dashboard
vercel env rm NEXT_PUBLIC_BACKEND_URL production --yes
vercel env add NEXT_PUBLIC_BACKEND_URL production
# → 新しいURL入力
vercel --prod --yes
```

### Step 3: 動作確認（2分）
- フロントエンドで深度推定テスト
- 正常動作確認

## 🚨 トラブルシューティング

### ❌ ngrok URL接続失敗
```
症状: "⚠️ Using mock depth estimation"
対処:
1. Colab セッション確認
2. ngrok トンネル状態確認  
3. 新しいURL生成・更新
4. 最悪時: mock APIで継続運用
```

### ❌ Google Colab セッション切断
```
症状: "Connection timeout"
対処:
1. 新しいColab セッション開始
2. setup_colab.ipynb 再実行
3. 新しいngrok URL取得
4. Vercel環境変数更新
```

### ❌ Vercel デプロイエラー
```
症状: Build failed
対処:
1. 前回成功時の設定確認
2. 環境変数の値確認
3. GitHub main ブランチ確認
4. 手動デプロイ実行
```

## 📊 展示中の監視項目

### リアルタイム確認
- [ ] **API応答時間**: 5秒以内
- [ ] **エラー率**: 5%以下
- [ ] **来場者反応**: スムーズな操作
- [ ] **画面表示**: 正常表示

### 定期確認（1時間毎）
- [ ] **Colab セッション**: アクティブ状態
- [ ] **ngrok URL**: 応答確認
- [ ] **Vercel**: デプロイ状態
- [ ] **ログ**: エラー確認

## 🏁 展示終了処理

### セキュリティクリーンアップ
- [ ] **Google Colab**: 全セッション終了
- [ ] **ngrok**: トンネル切断
- [ ] **Vercel**: 環境変数削除（オプション）
- [ ] **ローカル**: 一時ファイル削除

### 報告・記録
- [ ] **処理件数**: 総利用回数記録
- [ ] **エラーログ**: 問題点整理
- [ ] **改善案**: 次回展示への提案
- [ ] **コスト**: 実際の費用確認（0円）

## 💡 成功のポイント

### 🎯 事前準備が90%
- 全手順の事前テスト必須
- 予備アカウント・URL準備
- 緊急時対応計画策定

### 🔄 冗長性確保
- 複数ngrokアカウント
- 複数Googleアカウント
- mock API フォールバック

### 📱 シンプル運用
- 手順書の簡素化
- 自動化スクリプト活用
- 担当者教育

## 🎉 期待される成果

### 技術面
- **外部漏洩**: 完全ゼロ
- **処理性能**: 2-5秒/枚
- **安定性**: 99%稼働率
- **コスト**: 完全無料

### 展示効果
- **来場者満足**: リアルタイム体験
- **技術アピール**: 高度なAI技術
- **セキュリティ**: 安心感提供
- **コスト効率**: 投資対効果抜群

---

**🏆 この構成なら、外部漏洩なし・2日間・完全無料で最高品質の展示が実現できます！**